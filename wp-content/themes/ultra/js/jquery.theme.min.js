jQuery(function(t){void 0!==t.fn.fitVids&&t(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"}),t(document).ready(function(t){window.location.hash||(t('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),t(window).scroll(function(){t("#site-navigation ul li").hasClass("current")&&t("#site-navigation li").removeClass("current-menu-item")}))});var e=!1,a;t(document).click(function(){e||t(".menu-search form").fadeOut(250)}),t(document).on("click",".search-icon",function(){var e=t(this).parent();e.find("form").fadeToggle(150),setTimeout(function(){e.find("input[name=s]").focus()},250)}),t(document).on("mouseenter",".main-navigation .menu-search",function(){e=!0}).on("mouseleave",".main-navigation .menu-search",function(){e=!1}),t(document).keyup(function(e){27==e.keyCode&&t(".main-navigation .menu-search form").fadeOut(250)}),t(".entry-content .flexslider:not(.metaslider .flexslider), #metaslider-demo.flexslider, .gallery-format-slider").flexslider({namespace:"flex-ultra-"}),t('body.full #main-slider[data-stretch="true"]').each(function(){var e=t(this);e.find(">div").css("max-width","100%"),e.find(".slides li").each(function(){var e=t(this),a=e.find("img.ms-default-image").eq(0);a.length||(a=e.find("img").eq(0)),e.css("background-image","url("+a.attr("src")+")"),a.css("visibility","hidden"),e.wrapInner('<div class="container"></div>');var i=e.find("a");i.length&&(e.mouseover(function(){e.css("cursor","hand")}),e.mouseout(function(){e.css("cursor","pointer")}),e.click(function(e){e.preventDefault();var a=t(e.target),n=a.is("a")?a:i;window.open(n.attr("href"),n.attr("target"))}))})}),(window.devicePixelRatio?window.devicePixelRatio:1)>1&&t("img[data-retina-image]").each(function(){var e=t(this);e.attr("src",e.data("retina-image")),void 0===e.attr("width")&&e.load(function(){var t=[e.width(),e.height()];e.width(t[0]/2),e.height(t[1]/2)})});var i=t("body").hasClass("ultra-mobile-device"),n=t("body").hasClass("mobile-scroll-top");(!i&&t("#scroll-to-top").hasClass("scroll-to-top")||i&&n)&&(t(window).scroll(function(){t(window).scrollTop()>150?t("#scroll-to-top").addClass("displayed"):t("#scroll-to-top").removeClass("displayed")}),t("#scroll-to-top").click(function(){return t("html, body").animate({scrollTop:"0px"}),!1}));var s=t("header").hasClass("scale"),i=t("body").hasClass("ultra-mobile-device"),o=t("body").hasClass("mobile-sticky-header"),r=t("header").hasClass("responsive-menu"),h=t("header").hasClass("sticky-header");if(isAdminBar=t("body").hasClass("admin-bar"),adminBarHeight=t("#wpadminbar").outerHeight(),(h&&!i||h&&i&&o)&&(t(".site-header").hcSticky({responsive:!1,className:"is-stuck"}),s&&t(window).scroll(function(){t(this).scrollTop()>150?t(".site-header").addClass("scaled"):t(".site-header").removeClass("scaled")})),h&&isAdminBar&&jQuery(window).width()>600)if(s)var c=adminBarHeight+72;else var c=adminBarHeight+t("header").height()-3;else if(h)if(s)var c=72;else var c=t("header").height()-3;else var c=0;function l(){var e=t(window).scrollTop(),a="no";t(".panel-row-style").each(function(){var i="#"+t(this).attr("id"),n=t(this).offset().top-1,s=t(this).outerHeight(),o,r;if(e>=n-c&&e<=n+s-c)return a="yes",t("#site-navigation .current").removeClass("current"),t('#site-navigation a[href$="'+i+'"]').parent("li").addClass("current"),!1;"no"===a&&t("#site-navigation .current").removeClass("current")})}if(ultra_smooth_scroll_params.value&&(t.fn.ultraSmoothScroll=function(){t(this).click(function(e){var a,i=this.hash.substring(1),n=this;if(t(".panel-grid [id*="+i+"]").length>0?(t("#site-navigation .current").removeClass("current"),t(this).parent("li").addClass("current")):t("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=t(this.hash);if((s=s.length?s:t("[name="+this.hash.slice(1)+"]")).length)return t("html, body").animate({scrollTop:s.offset().top-c},{duration:1200,start:function(){t("html, body").on("wheel touchmove",function(){t("html, body").stop().off("wheel touchmove")})},complete:function(){t("html, body").finish().off("wheel touchmove")}}),!1}})},t(window).load(function(){t('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').ultraSmoothScroll()}),t(window).load(function(){if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var e=t(window.location.hash);if(e.length)return t("html, body").animate({scrollTop:e.offset().top-c},0),!1}})),t(window).on("scroll",l),t("body").hasClass("resp")&&t("body").hasClass("resp-top-bar"))function d(e,a){return{_selector:e,_breakpointWidth:a,_duration:500,_firstRun:!0,_forceToShow:!1,_animating:!1,_currentState:"",_startingState:"",_eventCb:{stateStart:!1,stateEnd:!1},_get:function(){return t(this._selector)},_getState:function(){return window.innerWidth>=this._breakpointWidth?"show":this._forceToShow?"force":"hide"},_setNewState:function(t,e){this._currentState!=t&&(e?this._startingState!=t&&(this._startingState=t,this._eventCb.stateStart&&this._eventCb.stateStart(t)):(this._currentState=t,this._eventCb.stateEnd&&this._eventCb.stateEnd(t)))},_hide:function(t){var e=this._get(),a=this,i={"margin-top":-e.height()+"px"};this._setNewState("hide",!0),t?(this._animating=!0,e.animate(i,{duration:this._duration,step:function(t,e){-a._get().height()!=e.end&&(e.end=-a._get().height())},done:function(){a._animating=!1,a._setNewState("hide"),a.adjust()}})):(e.css(i),this._setNewState("hide"))},_show:function(t){var e={"margin-top":"0px"},a=this,i=this._getState();this._setNewState(i,!0),t?(this._animating=!0,this._get().animate(e,{duration:this._duration,step:function(t,e){var i=-a._get().height();i!=e.start&&(e.start=i)},done:function(){a._animating=!1,a._setNewState(i),a.adjust()}})):(this._get().css(e),this._setNewState(i))},toggle:function(){switch(this._currentState){case"force":this._forceToShow=!1;break;case"hide":this._forceToShow=!0}this.adjust()},adjust:function(){if(this._animating)return this;if(this._firstRun){switch(this._getState()){case"hide":this._hide();break;default:this._show()}this._firstRun=!1}else{var t=this._getState();switch(t){case"hide":"hide"==this._currentState?this._hide():this._hide(!0);break;default:"hide"==this._currentState?this._show(!0):this._currentState!=t&&this._show()}}return this},getCurrentState:function(){return this._currentState},on:function(t,e){switch(t){case"statestart":this._eventCb.stateStart=e;break;case"stateend":this._eventCb.stateEnd=e;break;default:throw"unknown event: "+t}return this}}}t("body").hasClass("resp")&&t("body").hasClass("resp-top-bar")&&t(document).ready(function(){t(".top-bar-arrow").css("display","none");var e=d("#top-bar .container",ultra_resp_top_bar_params.collapse).on("stateend",function(e){switch(e){case"force":t(".top-bar-arrow").removeClass("show").addClass("close");break;case"hide":t(".top-bar-arrow").removeClass("close").addClass("show");break;default:t(".top-bar-arrow").removeClass("show").removeClass("close")}}).on("statestart",function(e){switch(e){case"force":case"hide":t(".top-bar-arrow").css("display","");break;default:t(".top-bar-arrow").css("display","none")}}).adjust();window.onresize=function(){e.adjust()},t(".top-bar-arrow").on("click",function(){e.toggle()})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&t("body").removeClass("no-touch"),t("body").hasClass("no-touch")||(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t("body").css("cursor","pointer"),t(".site-navigation").find(".menu-item-has-children > a").each(function(){t(this).click(function(e){var a=t(this);e.stopPropagation(),a.parent().addClass("touch-drop"),a.hasClass("hover")?a.unbind("click"):(a.addClass("hover"),e.preventDefault()),t(".site-navigation > .menu-item-has-children:not(.touch-drop) > a").click(function(){a.removeClass("hover").parent().removeClass("touch-drop")}),t(document).click(function(){a.removeClass("hover").parent().removeClass("touch-drop")})})}))}),function(t){t(window).load(function(){t(".ultra-masonry-loop").length&&t(".ultra-masonry-loop").masonry({itemSelector:".post",columnWidth:".post"})})}(jQuery);