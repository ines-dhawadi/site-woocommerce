jQuery(function(e){e(".sow-carousel-wrapper").each(function(){var a=e(this),o=a.siblings(".sow-carousel-title"),s=0,i=1,n=!1,l=!1,t=function(){s<0&&(s=0),s>=a.find(".sow-carousel-item").length-1&&(s=a.find(".sow-carousel-item").length-1,n||l||null===a.data("ajax-url")||(n=!0,i++,a.find(".sow-carousel-items").append('<li class="sow-carousel-item sow-carousel-loading"></li>'),e.get(a.data("ajax-url"),{query:a.data("query"),action:"sow_carousel_load",paged:i},function(o,s){var i,t;0==e(o.html).find(".sow-carousel-item").appendTo(a.find(".sow-carousel-items")).hide().fadeIn().length?(l=!0,a.find(".sow-carousel-loading").fadeOut(function(){e(this).remove()})):a.find(".sow-carousel-loading").remove(),n=!1})));var o=a.find(".sow-carousel-item").eq(0);a.find(".sow-carousel-items").css("margin-left",-(o.width()+parseInt(o.css("margin-right")))*s+"px")};o.find("a.sow-carousel-previous").click(function(e){e.preventDefault(),s-=1,t()}),o.find("a.sow-carousel-next").click(function(e){e.preventDefault(),s+=1,t()})})});